# UI Specification

## 概要
取引・カテゴリを中心とした画面構成と、各画面で扱うデータを定義する。取引データは `docs/transaction-spec.md`、カテゴリデータは `docs/category-spec.md` を参照する。

## 画面一覧

### ホーム（取引一覧）
**目的**: 直近の取引を俯瞰し、追加/編集/削除へ導線を提供する。

**主要UI要素**
- 期間フィルタ（今月/今週/カスタム）
- 種別フィルタ（収入/支出）
- カテゴリフィルタ（カテゴリ/サブカテゴリ）
- 取引リスト
  - 日時
  - 金額
  - 通貨コード
  - 種別（収入/支出）
  - カテゴリ名
  - メモ
- 合計サマリー（期間内の収入/支出合計）
- 「取引追加」ボタン

**扱うデータ**
- 取引: `transaction-spec.md` の全項目（表示・フィルタ・編集導線）
- カテゴリ: `category-spec.md` の `id`, `name`, `type`, `parentId`（フィルタ/表示用）

**遷移**
- 取引行タップ -> 取引追加/編集（編集モード）
- 「取引追加」 -> 取引追加/編集（新規モード）
- 「カテゴリ管理」導線 -> カテゴリ管理（一覧）

---

### 取引追加/編集
**目的**: 取引の新規登録または既存取引の編集を行う。

**主要UI要素**
- 日時入力（UTCを前提にした日時ピッカー）
- 金額入力（小数点2桁）
- 通貨コード入力（3文字）
- 種別選択（収入/支出）
- カテゴリ選択（種別に応じたカテゴリ/サブカテゴリのリスト）
- メモ入力（200文字以内）
- 保存ボタン
- 削除ボタン（編集時のみ）
- 取消/戻るボタン

**扱うデータ**
- 取引: `transaction-spec.md` の `timestamp`, `amount`, `currencyCode`, `type`, `categoryId`, `memo`
- カテゴリ: `category-spec.md` の `id`, `name`, `type`, `parentId`（選択肢の表示/絞り込み）

**遷移**
- 保存/削除 -> ホーム（取引一覧）
- キャンセル/戻る -> ホーム（取引一覧）

---

### カテゴリ管理（一覧）
**目的**: カテゴリ/サブカテゴリの一覧表示と追加/編集導線を提供する。

**主要UI要素**
- 種別タブ（収入/支出）
- カテゴリ一覧
  - 名称
  - プリセット/ユーザー作成の識別
  - 有効/無効状態
  - 親カテゴリ（サブカテゴリの場合）
- 「カテゴリ追加」ボタン
- 取消/戻るボタン

**扱うデータ**
- カテゴリ: `category-spec.md` の `id`, `name`, `type`, `isPreset`, `isActive`, `parentId`

**遷移**
- カテゴリ行タップ -> カテゴリ追加/編集（編集モード）
- 「カテゴリ追加」 -> カテゴリ追加/編集（新規モード）
- 戻る -> ホーム（取引一覧）

---

### カテゴリ追加/編集
**目的**: カテゴリ/サブカテゴリの新規登録または既存編集を行う。

**主要UI要素**
- 名称入力
- 種別選択（収入/支出）
- 親カテゴリ選択（サブカテゴリの場合）
- 有効/無効トグル
- 保存ボタン
- 削除ボタン（編集時のみ）
- 取消/戻るボタン

**扱うデータ**
- カテゴリ: `category-spec.md` の `id`, `name`, `type`, `isActive`, `parentId`

**遷移**
- 保存/削除 -> カテゴリ管理（一覧）
- キャンセル/戻る -> カテゴリ管理（一覧）

---

## 画面遷移まとめ
- ホーム（取引一覧）
  - -> 取引追加/編集（新規）
  - -> 取引追加/編集（編集）
  - -> カテゴリ管理（一覧）
- 取引追加/編集
  - -> ホーム（取引一覧）
- カテゴリ管理（一覧）
  - -> カテゴリ追加/編集（新規）
  - -> カテゴリ追加/編集（編集）
  - -> ホーム（取引一覧）
- カテゴリ追加/編集
  - -> カテゴリ管理（一覧）
